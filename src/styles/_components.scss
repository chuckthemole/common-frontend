@use "variables" as *;
@use "components/dashboard-elements/control-button";
@use "components/dashboard-elements/number-stepper";
@use "components/dashboard-elements/toggle-switch";

// Bulma with overrides
@use "bulma/bulma" with ($family-primary: $family-monospace-system,
    $control-border-width: $control-border-width,
    $input-border-color: $input-border-color,
    $input-shadow: $input-shadow);

// Buttons
.button.is-primary {
    background-color: var(--button-background-color, var(--missing-debug-var));
    border-color: var(--button-background-color, var(--missing-debug-var));
    color: var(--button-text-color, var(--missing-debug-var));

    &:hover {
        background-color: var(--hover-color, var(--missing-debug-var));
        border-color: var(--hover-color, var(--missing-debug-var));
        color: var(--button-text-color, var(--missing-debug-var)); // keep text same
    }
}


.button.is-secondary {
    background-color: var(--secondary-color, var(--missing-debug-var));
    border-color: var(--secondary-color, var(--missing-debug-var));
    color: var(--button-text-color, var(--missing-debug-var));
}

// Navbar
.navbar {
    height: 4rem; // desired navbar height
    display: flex;
    align-items: stretch;
    background-color: var(--navbar-background-color, var(--missing-debug-var));
    color: var(--navbar-text-color, var(--missing-debug-var));

    .navbar-brand {
        display: flex;
        align-items: stretch;
        height: 100%; // fill navbar height

        // Brand link
        .navbar-item {
            display: flex;
            align-items: stretch;
            padding: 0; // remove default padding
            height: 100%; // fill navbar height

            img {
                height: 100%; // fill navbar height
                width: auto; // maintain aspect ratio
                object-fit: contain;
                display: block; // remove inline spacing
            }
        }

        // Burger wrapper
        .navbar-burger-wrapper {
            display: flex;
            align-items: center; // vertical center
            flex: 0 0 auto; // do not stretch
            margin-left: auto; // push to far right
        }

        .navbar-burger {
            align-self: center;
            flex-shrink: 0;
        }
    }

    .navbar-item:not(.no-hover) {
        color: var(--navbar-text-color, var(--missing-debug-var));

        &:hover {
            background-color: var(--hover-color, var(--missing-debug-var)) !important;
            color: var(--button-text-color, var(--missing-debug-var)) !important;
        }
    }

    .navbar-item.has-dropdown>.navbar-link {
        color: var(--navbar-text-color, var(--missing-debug-var));
        background-color: transparent;

        &:hover {
            background-color: var(--hover-color, var(--missing-debug-var)) !important;
            color: var(--button-text-color, var(--missing-debug-var)) !important;
        }
    }

    .navbar-dropdown {
        background-color: var(--navbar-background-color, var(--missing-debug-var));

        .navbar-item {
            color: var(--navbar-text-color, var(--missing-debug-var));

            &:hover {
                background-color: var(--hover-color, var(--missing-debug-var)) !important;
                color: var(--button-text-color, var(--missing-debug-var)) !important;
            }
        }
    }
}

.sticky-header {
    position: sticky;
    top: 0;
    z-index: 1000;
    transition: transform 0.3s ease;
}

.sticky-header.hidden {
    transform: translateY(-80%);
}

// Footer
.footer {
    background-color: var(--footer-background-color, var(--missing-debug-var));
    color: var(--footer-text-color, var(--missing-debug-var));
}

// Sidebar
.sidebar {
    background-color: var(--sidebar-background-color, var(--missing-debug-var));
    color: var(--sidebar-text-color, var(--missing-debug-var));
}

// Cards
.card {
    background-color: var(--card-background-color, var(--missing-debug-var));
    color: var(--card-text-color, var(--missing-debug-var));

    .card-header {
        background-color: var(--card-header-background-color, var(--missing-debug-var));
    }
}

// Tabs
.tabs.is-boxed {
    li a {
        color: var(--muted-color);
        font-weight: 600;
        transition: all 0.2s;
    }

    li.is-active a {
        background-color: var(--card-header-background-color);
        color: var(--card-text-color);
        border-radius: 4px 4px 0 0;
    }

    li a:hover {
        color: var(--primary-color);
    }
}

// --------------------
// Spinner
// --------------------
.rumpus-spinner {
    border: 4px solid #f3f3f3; // default fallback
    border-radius: 50%;
    border-top: 4px solid var(--primary-color, #00d1b2); // reactive to theme
    width: 40px;
    height: 40px;
    animation: spin 0.8s linear infinite;
    margin: auto;
    box-sizing: border-box;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}